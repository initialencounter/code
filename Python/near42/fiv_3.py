import time

def best(lst1):
    mini = 10
    mineq = None
    mineq2 = None
# lst1 =[2,9,16,16,18]
    num_str = []
    for i in lst1:
        num_str.append(str(i))
    # print(num_str)
    #sym_str
    sym = '+-*/'
    #num
    lst2 = [[0, 1, 2, 3, 4], [0, 1, 2, 4, 3], [0, 1, 3, 2, 4], [0, 1, 3, 4, 2], [0, 1, 4, 2, 3], [0, 1, 4, 3, 2], [0, 2, 1, 3, 4], [0, 2, 1, 4, 3], [0, 2, 3, 1, 4], [0, 2, 3, 4, 1], [0, 2, 4, 1, 3], [0, 2, 4, 3, 1], [0, 3, 1, 2, 4], [0, 3, 1, 4, 2], [0, 3, 2, 1, 4], [0, 3, 2, 4, 1], [0, 3, 4, 1, 2], [0, 3, 4, 2, 1], [0, 4, 1, 2, 3], [0, 4, 1, 3, 2], [0, 4, 2, 1, 3], [0, 4, 2, 3, 1], [0, 4, 3, 1, 2], [0, 4, 3, 2, 1], [1, 0, 2, 3, 4], [1, 0, 2, 4, 3], [1, 0, 3, 2, 4], [1, 0, 3, 4, 2], [1, 0, 4, 2, 3], [1, 0, 4, 3, 2], [1, 2, 0, 3, 4], [1, 2, 0, 4, 3], [1, 2, 3, 0, 4], [1, 2, 3, 4, 0], [1, 2, 4, 0, 3], [1, 2, 4, 3, 0], [1, 3, 0, 2, 4], [1, 3, 0, 4, 2], [1, 3, 2, 0, 4], [1, 3, 2, 4, 0], [1, 3, 4, 0, 2], [1, 3, 4, 2, 0], [1, 4, 0, 2, 3], [1, 4, 0, 3, 2], [1, 4, 2, 0, 3], [1, 4, 2, 3, 0], [1, 4, 3, 0, 2], [1, 4, 3, 2, 0], [2, 0, 1, 3, 4], [2, 0, 1, 4, 3], [2, 0, 3, 1, 4], [2, 0, 3, 4, 1], [2, 0, 4, 1, 3], [2, 0, 4, 3, 1], [2, 1, 0, 3, 4], [2, 1, 0, 4, 3], [2, 1, 3, 0, 4], [2, 1, 3, 4, 0], [2, 1, 4, 0, 3], [2, 1, 4, 3, 0], [2, 3, 0, 1, 4], [2, 3, 0, 4, 1], [2, 3, 1, 0, 4], [2, 3, 1, 4, 0], [2, 3, 4, 0, 1], [2, 3, 4, 1, 0], [2, 4, 0, 1, 3], [2, 4, 0, 3, 1], [2, 4, 1, 0, 3], [2, 4, 1, 3, 0], [2, 4, 3, 0, 1], [2, 4, 3, 1, 0], [3, 0, 1, 2, 4], [3, 0, 1, 4, 2], [3, 0, 2, 1, 4], [3, 0, 2, 4, 1], [3, 0, 4, 1, 2], [3, 0, 4, 2, 1], [3, 1, 0, 2, 4], [3, 1, 0, 4, 2], [3, 1, 2, 0, 4], [3, 1, 2, 4, 0], [3, 1, 4, 0, 2], [3, 1, 4, 2, 0], [3, 2, 0, 1, 4], [3, 2, 0, 4, 1], [3, 2, 1, 0, 4], [3, 2, 1, 4, 0], [3, 2, 4, 0, 1], [3, 2, 4, 1, 0], [3, 4, 0, 1, 2], [3, 4, 0, 2, 1], [3, 4, 1, 0, 2], [3, 4, 1, 2, 0], [3, 4, 2, 0, 1], [3, 4, 2, 1, 0], [4, 0, 1, 2, 3], [4, 0, 1, 3, 2], [4, 0, 2, 1, 3], [4, 0, 2, 3, 1], [4, 0, 3, 1, 2], [4, 0, 3, 2, 1], [4, 1, 0, 2, 3], [4, 1, 0, 3, 2], [4, 1, 2, 0, 3], [4, 1, 2, 3, 0], [4, 1, 3, 0, 2], [4, 1, 3, 2, 0], [4, 2, 0, 1, 3], [4, 2, 0, 3, 1], [4, 2, 1, 0, 3], [4, 2, 1, 3, 0], [4, 2, 3, 0, 1], [4, 2, 3, 1, 0], [4, 3, 0, 1, 2], [4, 3, 0, 2, 1], [4, 3, 1, 0, 2], [4, 3, 1, 2, 0], [4, 3, 2, 0, 1], [4, 3, 2, 1, 0]]
    #sym
    lst3 =[[0, 0, 0, 0], [0, 0, 0, 1], [0, 0, 0, 2], [0, 0, 0, 3], [0, 0, 1, 0], [0, 0, 1, 1], [0, 0, 1, 2], [0, 0, 1, 3], [0, 0, 2, 0], [0, 0, 2, 1], [0, 0, 2, 2], [0, 0, 2, 3], [0, 0, 3, 0], [0, 0, 3, 1], [0, 0, 3, 2], [0, 0, 3, 3], [0, 1, 0, 0], [0, 1, 0, 1], [0, 1, 0, 2], [0, 1, 0, 3], [0, 1, 1, 0], [0, 1, 1, 1], [0, 1, 1, 2], [0, 1, 1, 3], [0, 1, 2, 0], [0, 1, 2, 1], [0, 1, 2, 2], [0, 1, 2, 3], [0, 1, 3, 0], [0, 1, 3, 1], [0, 1, 3, 2], [0, 1, 3, 3], [0, 2, 0, 0], [0, 2, 0, 1], [0, 2, 0, 2], [0, 2, 0, 3], [0, 2, 1, 0], [0, 2, 1, 1], [0, 2, 1, 2], [0, 2, 1, 3], [0, 2, 2, 0], [0, 2, 2, 1], [0, 2, 2, 2], [0, 2, 2, 3], [0, 2, 3, 0], [0, 2, 3, 1], [0, 2, 3, 2], [0, 2, 3, 3], [0, 3, 0, 0], [0, 3, 0, 1], [0, 3, 0, 2], [0, 3, 0, 3], [0, 3, 1, 0], [0, 3, 1, 1], [0, 3, 1, 2], [0, 3, 1, 3], [0, 3, 2, 0], [0, 3, 2, 1], [0, 3, 2, 2], [0, 3, 2, 3], [0, 3, 3, 0], [0, 3, 3, 1], [0, 3, 3, 2], [0, 3, 3, 3], [1, 0, 0, 0], [1, 0, 0, 1], [1, 0, 0, 2], [1, 0, 0, 3], [1, 0, 1, 0], [1, 0, 1, 1], [1, 0, 1, 2], [1, 0, 1, 3], [1, 0, 2, 0], [1, 0, 2, 1], [1, 0, 2, 2], [1, 0, 2, 3], [1, 0, 3, 0], [1, 0, 3, 1], [1, 0, 3, 2], [1, 0, 3, 3], [1, 1, 0, 0], [1, 1, 0, 1], [1, 1, 0, 2], [1, 1, 0, 3], [1, 1, 1, 0], [1, 1, 1, 1], [1, 1, 1, 2], [1, 1, 1, 3], [1, 1, 2, 0], [1, 1, 2, 1], [1, 1, 2, 2], [1, 1, 2, 3], [1, 1, 3, 0], [1, 1, 3, 1], [1, 1, 3, 2], [1, 1, 3, 3], [1, 2, 0, 0], [1, 2, 0, 1], [1, 2, 0, 2], [1, 2, 0, 3], [1, 2, 1, 0], [1, 2, 1, 1], [1, 2, 1, 2], [1, 2, 1, 3], [1, 2, 2, 0], [1, 2, 2, 1], [1, 2, 2, 2], [1, 2, 2, 3], [1, 2, 3, 0], [1, 2, 3, 1], [1, 2, 3, 2], [1, 2, 3, 3], [1, 3, 0, 0], [1, 3, 0, 1], [1, 3, 0, 2], [1, 3, 0, 3], [1, 3, 1, 0], [1, 3, 1, 1], [1, 3, 1, 2], [1, 3, 1, 3], [1, 3, 2, 0], [1, 3, 2, 1], [1, 3, 2, 2], [1, 3, 2, 3], [1, 3, 3, 0], [1, 3, 3, 1], [1, 3, 3, 2], [1, 3, 3, 3], [2, 0, 0, 0], [2, 0, 0, 1], [2, 0, 0, 2], [2, 0, 0, 3], [2, 0, 1, 0], [2, 0, 1, 1], [2, 0, 1, 2], [2, 0, 1, 3], [2, 0, 2, 0], [2, 0, 2, 1], [2, 0, 2, 2], [2, 0, 2, 3], [2, 0, 3, 0], [2, 0, 3, 1], [2, 0, 3, 2], [2, 0, 3, 3], [2, 1, 0, 0], [2, 1, 0, 1], [2, 1, 0, 2], [2, 1, 0, 3], [2, 1, 1, 0], [2, 1, 1, 1], [2, 1, 1, 2], [2, 1, 1, 3], [2, 1, 2, 0], [2, 1, 2, 1], [2, 1, 2, 2], [2, 1, 2, 3], [2, 1, 3, 0], [2, 1, 3, 1], [2, 1, 3, 2], [2, 1, 3, 3], [2, 2, 0, 0], [2, 2, 0, 1], [2, 2, 0, 2], [2, 2, 0, 3], [2, 2, 1, 0], [2, 2, 1, 1], [2, 2, 1, 2], [2, 2, 1, 3], [2, 2, 2, 0], [2, 2, 2, 1], [2, 2, 2, 2], [2, 2, 2, 3], [2, 2, 3, 0], [2, 2, 3, 1], [2, 2, 3, 2], [2, 2, 3, 3], [2, 3, 0, 0], [2, 3, 0, 1], [2, 3, 0, 2], [2, 3, 0, 3], [2, 3, 1, 0], [2, 3, 1, 1], [2, 3, 1, 2], [2, 3, 1, 3], [2, 3, 2, 0], [2, 3, 2, 1], [2, 3, 2, 2], [2, 3, 2, 3], [2, 3, 3, 0], [2, 3, 3, 1], [2, 3, 3, 2], [2, 3, 3, 3], [3, 0, 0, 0], [3, 0, 0, 1], [3, 0, 0, 2], [3, 0, 0, 3], [3, 0, 1, 0], [3, 0, 1, 1], [3, 0, 1, 2], [3, 0, 1, 3], [3, 0, 2, 0], [3, 0, 2, 1], [3, 0, 2, 2], [3, 0, 2, 3], [3, 0, 3, 0], [3, 0, 3, 1], [3, 0, 3, 2], [3, 0, 3, 3], [3, 1, 0, 0], [3, 1, 0, 1], [3, 1, 0, 2], [3, 1, 0, 3], [3, 1, 1, 0], [3, 1, 1, 1], [3, 1, 1, 2], [3, 1, 1, 3], [3, 1, 2, 0], [3, 1, 2, 1], [3, 1, 2, 2], [3, 1, 2, 3], [3, 1, 3, 0], [3, 1, 3, 1], [3, 1, 3, 2], [3, 1, 3, 3], [3, 2, 0, 0], [3, 2, 0, 1], [3, 2, 0, 2], [3, 2, 0, 3], [3, 2, 1, 0], [3, 2, 1, 1], [3, 2, 1, 2], [3, 2, 1, 3], [3, 2, 2, 0], [3, 2, 2, 1], [3, 2, 2, 2], [3, 2, 2, 3], [3, 2, 3, 0], [3, 2, 3, 1], [3, 2, 3, 2], [3, 2, 3, 3], [3, 3, 0, 0], [3, 3, 0, 1], [3, 3, 0, 2], [3, 3, 0, 3], [3, 3, 1, 0], [3, 3, 1, 1], [3, 3, 1, 2], [3, 3, 1, 3], [3, 3, 2, 0], [3, 3, 2, 1], [3, 3, 2, 2], [3, 3, 2, 3], [3, 3, 3, 0], [3, 3, 3, 1], [3, 3, 3, 2], [3, 3, 3, 3]]
    #sym2

    lst5 = [[0, 4, 0, 5], [0, 4, 0, 6], [0, 4, 0, 8], [0, 4, 0, 10], [0, 4, 1, 5], [0, 4, 1, 6], [0, 4, 1, 8], [0, 4, 1, 10], [0, 4, 3, 6], [0, 4, 3, 8], [0, 4, 3, 10], [0, 4, 6, 10], [0, 6, 0, 5], [0, 6, 0, 7], [0, 6, 0, 8], [0, 6, 0, 10], [0, 6, 1, 5], [0, 6, 1, 7], [0, 6, 1, 8], [0, 6, 1, 10], [0, 6, 3, 7], [0, 6, 3, 8], [0, 6, 3, 10], [0, 6, 5, 8], [0, 6, 5, 10], [0, 8, 0, 5], [0, 8, 0, 7], [0, 8, 0, 9], [0, 8, 0, 10], [0, 8, 1, 5], [0, 8, 1, 7], [0, 8, 1, 9], [0, 8, 1, 10], [0, 8, 3, 7], [0, 8, 3, 9], [0, 8, 3, 10], [0, 8, 5, 9], [0, 8, 5, 10], [0, 8, 7, 10], [0, 10, 0, 5], [0, 10, 0, 7], [0, 10, 0, 9], [0, 10, 0, 11], [0, 10, 1, 5], [0, 10, 1, 7], [0, 10, 1, 9], [0, 10, 1, 11], [0, 10, 3, 7], [0, 10, 3, 9], [0, 10, 3, 11], [0, 10, 5, 9], [0, 10, 5, 11], [0, 10, 7, 11], [2, 6, 0, 5], [2, 6, 0, 7], [2, 6, 0, 8], [2, 6, 0, 10], [2, 6, 2, 5], [2, 6, 2, 7], [2, 6, 2, 8], [2, 6, 2, 10], [2, 6, 3, 7], [2, 6, 3, 8], [2, 6, 3, 10], [2, 6, 5, 8], [2, 6, 5, 10], [2, 8, 0, 5], [2, 8, 0, 7], [2, 8, 0, 9], [2, 8, 0, 10], [2, 8, 2, 5], [2, 8, 2, 7], [2, 8, 2, 9], [2, 8, 2, 10], [2, 8, 3, 7], [2, 8, 3, 9], [2, 8, 3, 10], [2, 8, 5, 9], [2, 8, 5, 10], [2, 8, 7, 10], [2, 10, 0, 5], [2, 10, 0, 7], [2, 10, 0, 9], [2, 10, 0, 11], [2, 10, 2, 5], [2, 10, 2, 7], [2, 10, 2, 9], [2, 10, 2, 11], [2, 10, 3, 7], [2, 10, 3, 9], [2, 10, 3, 11], [2, 10, 5, 9], [2, 10, 5, 11], [2, 10, 7, 11], [4, 8, 0, 4], [4, 8, 0, 7], [4, 8, 0, 9], [4, 8, 0, 10], [4, 8, 2, 7], [4, 8, 2, 9], [4, 8, 2, 10], [4, 8, 4, 7], [4, 8, 4, 9], [4, 8, 4, 10], [4, 8, 5, 9], [4, 8, 5, 10], [4, 8, 7, 10], [4, 10, 0, 4], [4, 10, 0, 7], [4, 10, 0, 9], [4, 10, 0, 11], [4, 10, 2, 7], [4, 10, 2, 9], [4, 10, 2, 11], [4, 10, 4, 7], [4, 10, 4, 9], [4, 10, 4, 11], [4, 10, 5, 9], [4, 10, 5, 11], [4, 10, 7, 11], [6, 10, 0, 4], [6, 10, 0, 6], [6, 10, 0, 9], [6, 10, 0, 11], [6, 10, 2, 6], [6, 10, 2, 9], [6, 10, 2, 11], [6, 10, 4, 9], [6, 10, 4, 11], [6, 10, 6, 9], [6, 10, 6, 11], [6, 10, 7, 11]]


    lst6 = []
    lst7 = []

    count = 0
    for i in lst2:
        for j in lst3:
            for k in lst5:
                eq_str = [num_str[i[0]], sym[j[0]], num_str[i[1]], sym[j[1]], num_str[i[2]], sym[j[2]], num_str[i[3]],sym[j[3]], num_str[i[4]]]
                nu_str = eq_str[:]
                # print(eq_str)
                nu_str.insert(k[0], '(')
                nu_str.insert(k[1], ')')
                nu_str.insert(k[2], '(')
                nu_str.insert(k[3], ')')
                # nu_str.insert(k[4], '(')
                # nu_str.insert(k[5], ')')
                u_str = ''.join(nu_str)
                lst6.append(u_str)
                # u_str = u_str.replace('x','(')
                print(count)
                count+=1
                try:
                    x= eval(u_str)
                    x=abs(x-42)
                    if x!=0 and x<mini:
                        mini = x
                        mineq2 = mineq
                        mineq = u_str[:]
                except:
                    print('pass')
            # break

    return mineq,mineq2
    # try:
    #     while 1:
    #         minn = min(lst7)
    #         xxx = lst7.index(minn)
    #         if lst7[xxx]!=0:
    #             return [lst6[xxx], lst7[xxx]]
    #         else:
    #             # print(xxx)
    #             lst7.remove(lst7[xxx])
    #             lst6.remove(lst6[xxx])
    # except:
    #     print('pass')

print(best([3,3,8,9,12]))
print(time.process_time())
